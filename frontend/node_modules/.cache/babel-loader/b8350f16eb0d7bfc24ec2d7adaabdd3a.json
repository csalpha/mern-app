{"ast":null,"code":"import _asyncToGenerator from\"/home/carlos/Documents/GitHub/mern-ecommerce/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/carlos/Documents/GitHub/mern-ecommerce/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/carlos/Documents/GitHub/mern-ecommerce/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useContext,useEffect,useState}from'react';import{BrowserRouter,Link,Route,Routes}from'react-router-dom';import{Helmet}from'react-helmet-async';import{LinkContainer}from'react-router-bootstrap';import Navbar from'react-bootstrap/Navbar';import Nav from'react-bootstrap/Nav';import Button from'react-bootstrap/Button';import NavDropdown from'react-bootstrap/NavDropdown';import Container from'react-bootstrap/Container';import AdminRoute from'./components/AdminRoute';import PrivateRoute from'./components/PrivateRoute';import CartScreen from'./screens/CartScreen';import HomeScreen from'./screens/HomeScreen';import OrderHistoryScreen from'./screens/OrderHistoryScreen';import OrderScreen from'./screens/OrderScreen';import PaymentMethodScreen from'./screens/PaymentMethodScreen';import PlaceOrderScreen from'./screens/PlaceOrderScreen';import ProductListScreen from'./screens/ProductListScreen';import ProductScreen from'./screens/ProductScreen';import ProfileScreen from'./screens/ProfileScreen';import SignupScreen from'./screens/SignupScreen';import ShippingAddressScreen from'./screens/ShippingAddressScreen';import SigninScreen from'./screens/SigninScreen';import ProductEditScreen from'./screens/ProductEditScreen';import OrderListScreen from'./screens/OrderListScreen';import UserListScreen from'./screens/UserListScreen';import UserEditScreen from'./screens/UserEditScreen';import SellerRoute from'./components/SellerRoute';import SellerScreen from'./screens/SellerScreen';import SearchBox from'./components/SearchBox';import SearchScreen from'./screens/SearchScreen';import MapScreen from'./screens/MapScreen';import DashboardScreen from'./screens/DashboardScreen';import SupportScreen from'./screens/SupportScreen';import ChatBox from'./components/ChatBox';import{toast,ToastContainer}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{Store}from'./Store';import{getError}from'./utils';import Axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useContext=useContext(Store),state=_useContext.state,ctxDispatch=_useContext.dispatch;var cart=state.cart,userInfo=state.userInfo;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),sidebarIsOpen=_useState2[0],setSidebarIsOpen=_useState2[1];var cartItems=cart.cartItems;var signoutHandler=function signoutHandler(){ctxDispatch({type:'USER_SIGNOUT'});localStorage.removeItem('userInfo');localStorage.removeItem('cartItems');localStorage.removeItem('shippingAddress');localStorage.removeItem('paymentMethod');window.location.href='/signin';};var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),categories=_useState4[0],setCategories=_useState4[1];useEffect(function(){var fetchCategories=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$Axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Axios.get(\"/api/products/categories\");case 3:_yield$Axios$get=_context.sent;data=_yield$Axios$get.data;setCategories(data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);toast.error(getError(_context.t0));case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchCategories(){return _ref.apply(this,arguments);};}();fetchCategories();},[ctxDispatch]);return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(\"div\",{className:sidebarIsOpen?'site-container active-cont d-flex flex-column':'site-container d-flex flex-column',children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Games Store: ECommerce website \"})}),/*#__PURE__*/_jsx(ToastContainer,{position:\"bottom-center\",limit:1}),/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(Navbar,{bg:\"dark\",variant:\"dark\",expand:\"lg\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Button,{variant:\"dark\",onClick:function onClick(){return setSidebarIsOpen(!sidebarIsOpen);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-bars\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/\",children:/*#__PURE__*/_jsx(Navbar.Brand,{children:\"Store\"})}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsxs(Navbar.Collapse,{id:\"basic-navbar-nav\",children:[/*#__PURE__*/_jsx(SearchBox,{}),/*#__PURE__*/_jsxs(Nav,{className:\"me-auto\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/cart\",className:\"nav-link\",children:[\"Cart\",cartItems.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"badge rounded-pill bg-danger\",children:cartItems.length})]}),userInfo?/*#__PURE__*/_jsxs(NavDropdown,{title:userInfo.name,id:\"basic-nav-dropdown\",children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/profile\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"User Profile\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/orderhistory\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Order History\"})}),/*#__PURE__*/_jsx(NavDropdown.Divider,{}),/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"#signout\",onClick:signoutHandler,children:\"Sign Out\"})]}):/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/signin\",children:\"Sign In\"}),userInfo&&userInfo.isSeller&&/*#__PURE__*/_jsxs(NavDropdown,{title:\"Seller\",id:\"basic-nav-dropdown\",children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/productlist/seller\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Products\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/orderlist/seller\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Orders\"})})]}),userInfo&&userInfo.isAdmin&&/*#__PURE__*/_jsxs(NavDropdown,{title:\"Admin\",id:\"basic-nav-dropdown\",children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/dashboard\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Dashboard\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/productlist\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Products\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/orderlist\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Orders\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/userlist\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Users\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/support\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Support\"})})]})]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:sidebarIsOpen?' active-nav side-navbar d-flex justify-content-between flex-wrap flex-column':'side-navbar d-flex justify-content-between flex-wrap flex-column',children:/*#__PURE__*/_jsxs(Nav,{className:\"flex-column text-white w-100 p-2\",children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Categories\"})}),categories.map(function(category){return/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(LinkContainer,{to:\"/search?category=\".concat(category),onClick:function onClick(){return setSidebarIsOpen(false);},children:/*#__PURE__*/_jsx(Nav.Link,{children:category})})},category);})]})}),/*#__PURE__*/_jsx(\"main\",{className:\"container mt-3\",onClick:function onClick(){return setSidebarIsOpen(false);},children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/seller/:id\",element:/*#__PURE__*/_jsx(SellerScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(CartScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cart/:id\",element:/*#__PURE__*/_jsx(CartScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/product/:id\",element:/*#__PURE__*/_jsx(ProductScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/product/:id/edit\",element:/*#__PURE__*/_jsx(ProductEditScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signin\",element:/*#__PURE__*/_jsx(SigninScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(SignupScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/shipping\",element:/*#__PURE__*/_jsx(ShippingAddressScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/payment\",element:/*#__PURE__*/_jsx(PaymentMethodScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/placeorder\",element:/*#__PURE__*/_jsx(PlaceOrderScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/order/:id\",element:/*#__PURE__*/_jsx(OrderScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/orderhistory\",element:/*#__PURE__*/_jsx(OrderHistoryScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/search\",element:/*#__PURE__*/_jsx(SearchScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(ProfileScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/map\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(MapScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/productlist\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(ProductListScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/orderlist\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(OrderListScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/userlist\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(UserListScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/user/:id/edit\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(UserEditScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(DashboardScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/support\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(SupportScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/productlist/seller\",element:/*#__PURE__*/_jsx(SellerRoute,{children:/*#__PURE__*/_jsx(ProductListScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/orderlist/seller\",element:/*#__PURE__*/_jsx(SellerRoute,{children:/*#__PURE__*/_jsx(OrderListScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomeScreen,{})})]})}),/*#__PURE__*/_jsxs(\"footer\",{children:[userInfo&&!userInfo.isAdmin&&/*#__PURE__*/_jsx(ChatBox,{userInfo:userInfo}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"All Rights Reserved\"})]})]})});}export default App;","map":{"version":3,"sources":["/home/carlos/Documents/GitHub/mern-ecommerce/frontend/src/App.js"],"names":["React","useContext","useEffect","useState","BrowserRouter","Link","Route","Routes","Helmet","LinkContainer","Navbar","Nav","Button","NavDropdown","Container","AdminRoute","PrivateRoute","CartScreen","HomeScreen","OrderHistoryScreen","OrderScreen","PaymentMethodScreen","PlaceOrderScreen","ProductListScreen","ProductScreen","ProfileScreen","SignupScreen","ShippingAddressScreen","SigninScreen","ProductEditScreen","OrderListScreen","UserListScreen","UserEditScreen","SellerRoute","SellerScreen","SearchBox","SearchScreen","MapScreen","DashboardScreen","SupportScreen","ChatBox","toast","ToastContainer","Store","getError","Axios","App","state","ctxDispatch","dispatch","cart","userInfo","sidebarIsOpen","setSidebarIsOpen","cartItems","signoutHandler","type","localStorage","removeItem","window","location","href","categories","setCategories","fetchCategories","get","data","error","length","name","isSeller","isAdmin","map","category"],"mappings":"oaAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,OAASC,aAAT,CAAwBC,IAAxB,CAA8BC,KAA9B,CAAqCC,MAArC,KAAmD,kBAAnD,CACA,OAASC,MAAT,KAAuB,oBAAvB,CAEA,OAASC,aAAT,KAA8B,wBAA9B,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,6BAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,8BAA/B,CACA,MAAOC,CAAAA,WAAP,KAAwB,uBAAxB,CACA,MAAOC,CAAAA,mBAAP,KAAgC,+BAAhC,CACA,MAAOC,CAAAA,gBAAP,KAA6B,4BAA7B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,6BAA9B,CACA,MAAOC,CAAAA,aAAP,KAA0B,yBAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,yBAA1B,CACA,MAAOC,CAAAA,YAAP,KAAyB,wBAAzB,CACA,MAAOC,CAAAA,qBAAP,KAAkC,iCAAlC,CACA,MAAOC,CAAAA,YAAP,KAAyB,wBAAzB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,6BAA9B,CACA,MAAOC,CAAAA,eAAP,KAA4B,2BAA5B,CACA,MAAOC,CAAAA,cAAP,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,cAAP,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,wBAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,wBAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,qBAAtB,CACA,MAAOC,CAAAA,eAAP,KAA4B,2BAA5B,CACA,MAAOC,CAAAA,aAAP,KAA0B,yBAA1B,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,OAASC,KAAT,CAAgBC,cAAhB,KAAsC,gBAAtC,CACA,MAAO,uCAAP,CACA,OAASC,KAAT,KAAsB,SAAtB,CACA,OAASC,QAAT,KAAyB,SAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,CACb,gBAAyC7C,UAAU,CAAC0C,KAAD,CAAnD,CAAQI,KAAR,aAAQA,KAAR,CAAyBC,WAAzB,aAAeC,QAAf,CACA,GAAQC,CAAAA,IAAR,CAA2BH,KAA3B,CAAQG,IAAR,CAAcC,QAAd,CAA2BJ,KAA3B,CAAcI,QAAd,CAEA,cAA0ChD,QAAQ,CAAC,KAAD,CAAlD,wCAAOiD,aAAP,eAAsBC,gBAAtB,eACA,GAAQC,CAAAA,SAAR,CAAsBJ,IAAtB,CAAQI,SAAR,CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BP,WAAW,CAAC,CAAEQ,IAAI,CAAE,cAAR,CAAD,CAAX,CACAC,YAAY,CAACC,UAAb,CAAwB,UAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,WAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,iBAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,eAAxB,EACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,SAAvB,CACD,CAPD,CASA,eAAoC1D,QAAQ,CAAC,EAAD,CAA5C,yCAAO2D,UAAP,eAAmBC,aAAnB,eAEA7D,SAAS,CAAC,UAAM,CACd,GAAM8D,CAAAA,eAAe,0FAAG,mMAEGnB,CAAAA,KAAK,CAACoB,GAAN,4BAFH,uCAEZC,IAFY,kBAEZA,IAFY,CAGpBH,aAAa,CAACG,IAAD,CAAb,CAHoB,+EAKpBzB,KAAK,CAAC0B,KAAN,CAAYvB,QAAQ,aAApB,EALoB,oEAAH,kBAAfoB,CAAAA,eAAe,0CAArB,CAQAA,eAAe,GAChB,CAVQ,CAUN,CAAChB,WAAD,CAVM,CAAT,CAYA,mBACE,KAAC,aAAD,wBACE,aACE,SAAS,CACPI,aAAa,CACT,+CADS,CAET,mCAJR,wBAOE,KAAC,MAAD,wBACE,0DADF,EAPF,cAUE,KAAC,cAAD,EAAgB,QAAQ,CAAC,eAAzB,CAAyC,KAAK,CAAE,CAAhD,EAVF,cAWE,qCACE,KAAC,MAAD,EAAQ,EAAE,CAAC,MAAX,CAAkB,OAAO,CAAC,MAA1B,CAAiC,MAAM,CAAC,IAAxC,uBACE,MAAC,SAAD,yBACE,KAAC,MAAD,EACE,OAAO,CAAC,MADV,CAEE,OAAO,CAAE,yBAAMC,CAAAA,gBAAgB,CAAC,CAACD,aAAF,CAAtB,EAFX,uBAIE,UAAG,SAAS,CAAC,aAAb,EAJF,EADF,cAOE,KAAC,aAAD,EAAe,EAAE,CAAC,GAAlB,uBACE,KAAC,MAAD,CAAQ,KAAR,oBADF,EAPF,cAUE,KAAC,MAAD,CAAQ,MAAR,EAAe,gBAAc,kBAA7B,EAVF,cAWE,MAAC,MAAD,CAAQ,QAAR,EAAiB,EAAE,CAAC,kBAApB,wBACE,KAAC,SAAD,IADF,cAEE,MAAC,GAAD,EAAK,SAAS,CAAC,SAAf,wBACE,MAAC,IAAD,EAAM,EAAE,CAAC,OAAT,CAAiB,SAAS,CAAC,UAA3B,kBAEGE,SAAS,CAACc,MAAV,CAAmB,CAAnB,eACC,aAAM,SAAS,CAAC,8BAAhB,UACGd,SAAS,CAACc,MADb,EAHJ,GADF,CASGjB,QAAQ,cACP,MAAC,WAAD,EAAa,KAAK,CAAEA,QAAQ,CAACkB,IAA7B,CAAmC,EAAE,CAAC,oBAAtC,wBACE,KAAC,aAAD,EAAe,EAAE,CAAC,UAAlB,uBACE,KAAC,WAAD,CAAa,IAAb,2BADF,EADF,cAIE,KAAC,aAAD,EAAe,EAAE,CAAC,eAAlB,uBACE,KAAC,WAAD,CAAa,IAAb,4BADF,EAJF,cAQE,KAAC,WAAD,CAAa,OAAb,IARF,cASE,KAAC,IAAD,EACE,SAAS,CAAC,eADZ,CAEE,EAAE,CAAC,UAFL,CAGE,OAAO,CAAEd,cAHX,sBATF,GADO,cAmBP,KAAC,IAAD,EAAM,SAAS,CAAC,UAAhB,CAA2B,EAAE,CAAC,SAA9B,qBA5BJ,CAgCGJ,QAAQ,EAAIA,QAAQ,CAACmB,QAArB,eACC,MAAC,WAAD,EAAa,KAAK,CAAC,QAAnB,CAA4B,EAAE,CAAC,oBAA/B,wBACE,KAAC,aAAD,EAAe,EAAE,CAAC,qBAAlB,uBACE,KAAC,WAAD,CAAa,IAAb,uBADF,EADF,cAIE,KAAC,aAAD,EAAe,EAAE,CAAC,mBAAlB,uBACE,KAAC,WAAD,CAAa,IAAb,qBADF,EAJF,GAjCJ,CA0CGnB,QAAQ,EAAIA,QAAQ,CAACoB,OAArB,eACC,MAAC,WAAD,EAAa,KAAK,CAAC,OAAnB,CAA2B,EAAE,CAAC,oBAA9B,wBACE,KAAC,aAAD,EAAe,EAAE,CAAC,YAAlB,uBACE,KAAC,WAAD,CAAa,IAAb,wBADF,EADF,cAIE,KAAC,aAAD,EAAe,EAAE,CAAC,cAAlB,uBACE,KAAC,WAAD,CAAa,IAAb,uBADF,EAJF,cAOE,KAAC,aAAD,EAAe,EAAE,CAAC,YAAlB,uBACE,KAAC,WAAD,CAAa,IAAb,qBADF,EAPF,cAUE,KAAC,aAAD,EAAe,EAAE,CAAC,WAAlB,uBACE,KAAC,WAAD,CAAa,IAAb,oBADF,EAVF,cAaE,KAAC,aAAD,EAAe,EAAE,CAAC,UAAlB,uBACE,KAAC,WAAD,CAAa,IAAb,sBADF,EAbF,GA3CJ,GAFF,GAXF,GADF,EADF,EAXF,cA6FE,YACE,SAAS,CACPnB,aAAa,CACT,8EADS,CAET,kEAJR,uBAOE,MAAC,GAAD,EAAK,SAAS,CAAC,kCAAf,wBACE,KAAC,GAAD,CAAK,IAAL,wBACE,sCADF,EADF,CAIGU,UAAU,CAACU,GAAX,CAAe,SAACC,QAAD,qBACd,KAAC,GAAD,CAAK,IAAL,wBACE,KAAC,aAAD,EACE,EAAE,4BAAsBA,QAAtB,CADJ,CAEE,OAAO,CAAE,yBAAMpB,CAAAA,gBAAgB,CAAC,KAAD,CAAtB,EAFX,uBAIE,KAAC,GAAD,CAAK,IAAL,WAAWoB,QAAX,EAJF,EADF,EAAeA,QAAf,CADc,EAAf,CAJH,GAPF,EA7FF,cAqHE,aACE,SAAS,CAAC,gBADZ,CAEE,OAAO,CAAE,yBAAMpB,CAAAA,gBAAgB,CAAC,KAAD,CAAtB,EAFX,uBAIE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,aAAZ,CAA0B,OAAO,cAAE,KAAC,YAAD,IAAnC,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,OAAO,cAAE,KAAC,UAAD,IAA7B,EAFF,cAGE,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,CAAwB,OAAO,cAAE,KAAC,UAAD,IAAjC,EAHF,cAKE,KAAC,KAAD,EAAO,IAAI,CAAC,cAAZ,CAA2B,OAAO,cAAE,KAAC,aAAD,IAApC,EALF,cAME,KAAC,KAAD,EACE,IAAI,CAAC,mBADP,CAEE,OAAO,cAAE,KAAC,iBAAD,IAFX,EANF,cAUE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,OAAO,cAAE,KAAC,YAAD,IAA/B,EAVF,cAWE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,OAAO,cAAE,KAAC,YAAD,IAA/B,EAXF,cAYE,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,CAAwB,OAAO,cAAE,KAAC,qBAAD,IAAjC,EAZF,cAaE,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,OAAO,cAAE,KAAC,mBAAD,IAAhC,EAbF,cAcE,KAAC,KAAD,EAAO,IAAI,CAAC,aAAZ,CAA0B,OAAO,cAAE,KAAC,gBAAD,IAAnC,EAdF,cAeE,KAAC,KAAD,EAAO,IAAI,CAAC,YAAZ,CAAyB,OAAO,cAAE,KAAC,WAAD,IAAlC,EAfF,cAgBE,KAAC,KAAD,EACE,IAAI,CAAC,eADP,CAEE,OAAO,cAAE,KAAC,kBAAD,IAFX,EAhBF,cAoBE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,OAAO,cAAE,KAAC,YAAD,IAA/B,EApBF,cAsBE,KAAC,KAAD,EACE,IAAI,CAAC,UADP,CAEE,OAAO,cACL,KAAC,YAAD,wBACE,KAAC,aAAD,IADF,EAHJ,EAtBF,cA8BE,KAAC,KAAD,EACE,IAAI,CAAC,MADP,CAEE,OAAO,cACL,KAAC,YAAD,wBACE,KAAC,SAAD,IADF,EAHJ,EA9BF,cAuCE,KAAC,KAAD,EACE,IAAI,CAAC,cADP,CAEE,OAAO,cACL,KAAC,UAAD,wBACE,KAAC,iBAAD,IADF,EAHJ,EAvCF,cAgDE,KAAC,KAAD,EACE,IAAI,CAAC,YADP,CAEE,OAAO,cACL,KAAC,UAAD,wBACE,KAAC,eAAD,IADF,EAHJ,EAhDF,cAwDE,KAAC,KAAD,EACE,IAAI,CAAC,WADP,CAEE,OAAO,cACL,KAAC,UAAD,wBACE,KAAC,cAAD,IADF,EAHJ,EAxDF,cAgEE,KAAC,KAAD,EACE,IAAI,CAAC,gBADP,CAEE,OAAO,cACL,KAAC,UAAD,wBACE,KAAC,cAAD,IADF,EAHJ,EAhEF,cAwEE,KAAC,KAAD,EACE,IAAI,CAAC,YADP,CAEE,OAAO,cACL,KAAC,UAAD,wBACE,KAAC,eAAD,IADF,EAHJ,EAxEF,cAgFE,KAAC,KAAD,EACE,IAAI,CAAC,UADP,CAEE,OAAO,cACL,KAAC,UAAD,wBACE,KAAC,aAAD,IADF,EAHJ,EAhFF,cAwFE,KAAC,KAAD,EACE,IAAI,CAAC,qBADP,CAEE,OAAO,cACL,KAAC,WAAD,wBACE,KAAC,iBAAD,IADF,EAHJ,EAxFF,cAgGE,KAAC,KAAD,EACE,IAAI,CAAC,mBADP,CAEE,OAAO,cACL,KAAC,WAAD,wBACE,KAAC,eAAD,IADF,EAHJ,EAhGF,cAyGE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,KAAC,UAAD,IAAzB,EAzGF,GAJF,EArHF,cAqOE,0BACGF,QAAQ,EAAI,CAACA,QAAQ,CAACoB,OAAtB,eAAiC,KAAC,OAAD,EAAS,QAAQ,CAAEpB,QAAnB,EADpC,cAEE,YAAK,SAAS,CAAC,aAAf,iCAFF,GArOF,GADF,EADF,CA8OD,CAED,cAAeL,CAAAA,GAAf","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { BrowserRouter, Link, Route, Routes } from 'react-router-dom';\nimport { Helmet } from 'react-helmet-async';\n\nimport { LinkContainer } from 'react-router-bootstrap';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\nimport Button from 'react-bootstrap/Button';\nimport NavDropdown from 'react-bootstrap/NavDropdown';\nimport Container from 'react-bootstrap/Container';\nimport AdminRoute from './components/AdminRoute';\nimport PrivateRoute from './components/PrivateRoute';\nimport CartScreen from './screens/CartScreen';\nimport HomeScreen from './screens/HomeScreen';\nimport OrderHistoryScreen from './screens/OrderHistoryScreen';\nimport OrderScreen from './screens/OrderScreen';\nimport PaymentMethodScreen from './screens/PaymentMethodScreen';\nimport PlaceOrderScreen from './screens/PlaceOrderScreen';\nimport ProductListScreen from './screens/ProductListScreen';\nimport ProductScreen from './screens/ProductScreen';\nimport ProfileScreen from './screens/ProfileScreen';\nimport SignupScreen from './screens/SignupScreen';\nimport ShippingAddressScreen from './screens/ShippingAddressScreen';\nimport SigninScreen from './screens/SigninScreen';\nimport ProductEditScreen from './screens/ProductEditScreen';\nimport OrderListScreen from './screens/OrderListScreen';\nimport UserListScreen from './screens/UserListScreen';\nimport UserEditScreen from './screens/UserEditScreen';\nimport SellerRoute from './components/SellerRoute';\nimport SellerScreen from './screens/SellerScreen';\nimport SearchBox from './components/SearchBox';\nimport SearchScreen from './screens/SearchScreen';\nimport MapScreen from './screens/MapScreen';\nimport DashboardScreen from './screens/DashboardScreen';\nimport SupportScreen from './screens/SupportScreen';\nimport ChatBox from './components/ChatBox';\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Store } from './Store';\nimport { getError } from './utils';\nimport Axios from 'axios';\n\nfunction App() {\n  const { state, dispatch: ctxDispatch } = useContext(Store);\n  const { cart, userInfo } = state;\n\n  const [sidebarIsOpen, setSidebarIsOpen] = useState(false);\n  const { cartItems } = cart;\n  \n  const signoutHandler = () => {\n    ctxDispatch({ type: 'USER_SIGNOUT' });\n    localStorage.removeItem('userInfo');\n    localStorage.removeItem('cartItems');\n    localStorage.removeItem('shippingAddress');\n    localStorage.removeItem('paymentMethod');\n    window.location.href = '/signin';\n  };\n\n  const [categories, setCategories] = useState([]);\n\n  useEffect(() => {\n    const fetchCategories = async () => {\n      try {\n        const { data } = await Axios.get(`/api/products/categories`);\n        setCategories(data);\n      } catch (err) {\n        toast.error(getError(err));\n      }\n    };\n    fetchCategories();\n  }, [ctxDispatch]);\n\n  return (\n    <BrowserRouter>\n      <div\n        className={\n          sidebarIsOpen\n            ? 'site-container active-cont d-flex flex-column'\n            : 'site-container d-flex flex-column'\n        }\n      >\n        <Helmet>\n          <title>Games Store: ECommerce website </title>\n        </Helmet>\n        <ToastContainer position=\"bottom-center\" limit={1} />\n        <header>\n          <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\n            <Container>\n              <Button\n                variant=\"dark\"\n                onClick={() => setSidebarIsOpen(!sidebarIsOpen)}\n              >\n                <i className=\"fas fa-bars\"></i>\n              </Button>\n              <LinkContainer to=\"/\">\n                <Navbar.Brand>Store</Navbar.Brand>\n              </LinkContainer>\n              <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n              <Navbar.Collapse id=\"basic-navbar-nav\">\n                <SearchBox />\n                <Nav className=\"me-auto\">\n                  <Link to=\"/cart\" className=\"nav-link\">\n                    Cart\n                    {cartItems.length > 0 && (\n                      <span className=\"badge rounded-pill bg-danger\">\n                        {cartItems.length}\n                      </span>\n                    )}\n                  </Link>\n                  {userInfo ? (\n                    <NavDropdown title={userInfo.name} id=\"basic-nav-dropdown\">\n                      <LinkContainer to=\"/profile\">\n                        <NavDropdown.Item>User Profile</NavDropdown.Item>\n                      </LinkContainer>\n                      <LinkContainer to=\"/orderhistory\">\n                        <NavDropdown.Item>Order History</NavDropdown.Item>\n                      </LinkContainer>\n\n                      <NavDropdown.Divider />\n                      <Link\n                        className=\"dropdown-item\"\n                        to=\"#signout\"\n                        onClick={signoutHandler}\n                      >\n                        Sign Out\n                      </Link>\n                    </NavDropdown>\n                  ) : (\n                    <Link className=\"nav-link\" to=\"/signin\">\n                      Sign In\n                    </Link>\n                  )}\n                  {userInfo && userInfo.isSeller && (\n                    <NavDropdown title=\"Seller\" id=\"basic-nav-dropdown\">\n                      <LinkContainer to=\"/productlist/seller\">\n                        <NavDropdown.Item>Products</NavDropdown.Item>\n                      </LinkContainer>\n                      <LinkContainer to=\"/orderlist/seller\">\n                        <NavDropdown.Item>Orders</NavDropdown.Item>\n                      </LinkContainer>\n                    </NavDropdown>\n                  )}\n                  {userInfo && userInfo.isAdmin && (\n                    <NavDropdown title=\"Admin\" id=\"basic-nav-dropdown\">\n                      <LinkContainer to=\"/dashboard\">\n                        <NavDropdown.Item>Dashboard</NavDropdown.Item>\n                      </LinkContainer>\n                      <LinkContainer to=\"/productlist\">\n                        <NavDropdown.Item>Products</NavDropdown.Item>\n                      </LinkContainer>\n                      <LinkContainer to=\"/orderlist\">\n                        <NavDropdown.Item>Orders</NavDropdown.Item>\n                      </LinkContainer>\n                      <LinkContainer to=\"/userlist\">\n                        <NavDropdown.Item>Users</NavDropdown.Item>\n                      </LinkContainer>\n                      <LinkContainer to=\"/support\">\n                        <NavDropdown.Item>Support</NavDropdown.Item>\n                      </LinkContainer>\n                    </NavDropdown>\n                  )}\n                </Nav>\n              </Navbar.Collapse>\n            </Container>\n          </Navbar>\n        </header>\n\n        <div\n          className={\n            sidebarIsOpen\n              ? ' active-nav side-navbar d-flex justify-content-between flex-wrap flex-column'\n              : 'side-navbar d-flex justify-content-between flex-wrap flex-column'\n          }\n        >\n          <Nav className=\"flex-column text-white w-100 p-2\">\n            <Nav.Item>\n              <strong>Categories</strong>\n            </Nav.Item>\n            {categories.map((category) => (\n              <Nav.Item key={category}>\n                <LinkContainer\n                  to={`/search?category=${category}`}\n                  onClick={() => setSidebarIsOpen(false)}\n                >\n                  <Nav.Link>{category}</Nav.Link>\n                </LinkContainer>\n              </Nav.Item>\n            ))}\n          </Nav>\n        </div>\n\n        <main\n          className=\"container mt-3\"\n          onClick={() => setSidebarIsOpen(false)}\n        >\n          <Routes>\n            <Route path=\"/seller/:id\" element={<SellerScreen />}></Route>\n            <Route path=\"/cart\" element={<CartScreen />}></Route>\n            <Route path=\"/cart/:id\" element={<CartScreen />}></Route>\n\n            <Route path=\"/product/:id\" element={<ProductScreen />}></Route>\n            <Route\n              path=\"/product/:id/edit\"\n              element={<ProductEditScreen />}\n            ></Route>\n            <Route path=\"/signin\" element={<SigninScreen />}></Route>\n            <Route path=\"/signup\" element={<SignupScreen />}></Route>\n            <Route path=\"/shipping\" element={<ShippingAddressScreen />}></Route>\n            <Route path=\"/payment\" element={<PaymentMethodScreen />}></Route>\n            <Route path=\"/placeorder\" element={<PlaceOrderScreen />}></Route>\n            <Route path=\"/order/:id\" element={<OrderScreen />}></Route>\n            <Route\n              path=\"/orderhistory\"\n              element={<OrderHistoryScreen />}\n            ></Route>\n            <Route path=\"/search\" element={<SearchScreen />}></Route>\n\n            <Route\n              path=\"/profile\"\n              element={\n                <PrivateRoute>\n                  <ProfileScreen />\n                </PrivateRoute>\n              }\n            />\n            <Route\n              path=\"/map\"\n              element={\n                <PrivateRoute>\n                  <MapScreen />\n                </PrivateRoute>\n              }\n            />\n\n            <Route\n              path=\"/productlist\"\n              element={\n                <AdminRoute>\n                  <ProductListScreen />\n                </AdminRoute>\n              }\n            />\n\n            <Route\n              path=\"/orderlist\"\n              element={\n                <AdminRoute>\n                  <OrderListScreen />\n                </AdminRoute>\n              }\n            />\n            <Route\n              path=\"/userlist\"\n              element={\n                <AdminRoute>\n                  <UserListScreen />\n                </AdminRoute>\n              }\n            />\n            <Route\n              path=\"/user/:id/edit\"\n              element={\n                <AdminRoute>\n                  <UserEditScreen />\n                </AdminRoute>\n              }\n            />\n            <Route\n              path=\"/dashboard\"\n              element={\n                <AdminRoute>\n                  <DashboardScreen />\n                </AdminRoute>\n              }\n            />\n            <Route\n              path=\"/support\"\n              element={\n                <AdminRoute>\n                  <SupportScreen />\n                </AdminRoute>\n              }\n            />\n            <Route\n              path=\"/productlist/seller\"\n              element={\n                <SellerRoute>\n                  <ProductListScreen />\n                </SellerRoute>\n              }\n            />\n            <Route\n              path=\"/orderlist/seller\"\n              element={\n                <SellerRoute>\n                  <OrderListScreen />\n                </SellerRoute>\n              }\n            />\n\n            <Route path=\"/\" element={<HomeScreen />}></Route>\n          </Routes>\n        </main>\n        <footer>\n          {userInfo && !userInfo.isAdmin && <ChatBox userInfo={userInfo} />}\n          <div className=\"text-center\">All Rights Reserved</div>\n        </footer>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}