{"ast":null,"code":"var _jsxFileName = \"/home/carlos/Documents/GitHub/mern-app/frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { BrowserRouter, Link, Route, Routes } from 'react-router-dom';\nimport Axios from 'axios';\nimport Nav from 'react-bootstrap/Nav';\nimport SearchBox from './components/SearchBox';\nimport Navbar from 'react-bootstrap/Navbar';\nimport NavDropdown from 'react-bootstrap/NavDropdown';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport Container from 'react-bootstrap/Container';\nimport Button from 'react-bootstrap/Button';\nimport HomeScreen from './screens/HomeScreen';\nimport ProductScreen from './screens/ProductScreen';\nimport { Store } from './Store';\nimport CartScreen from './screens/CartScreen';\nimport SigninScreen from './screens/SigninScreen';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const {\n    state\n  } = useContext(Store); // from the state get cart and userInfo \n\n  const {\n    cart,\n    userInfo\n  } = state; // from the cart get cartItems\n\n  const {\n    cartItems\n  } = cart;\n\n  const signoutHandler = () => {};\n\n  const [sidebarIsOpen, setSidebarIsOpen] = useState(false);\n  const [categories, setCategories] = useState([]);\n  useEffect(() => {\n    const fetchCategories = async () => {\n      try {\n        const {\n          data\n        } = await Axios.get(`/api/products/categories`);\n        setCategories(data);\n      } catch (err) {}\n    };\n\n    fetchCategories();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: sidebarIsOpen ? 'site-container active-cont d-flex flex-column' : 'site-container d-flex flex-column',\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(Navbar, {\n          bg: \"dark\",\n          variant: \"dark\",\n          expand: \"lg\",\n          children: /*#__PURE__*/_jsxDEV(Container, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"dark\",\n              onClick: () => setSidebarIsOpen(!sidebarIsOpen),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-bars\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: \"/\",\n              children: /*#__PURE__*/_jsxDEV(Navbar.Brand, {\n                children: \"Store\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {\n              \"aria-controls\": \"basic-navbar-nav\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n              id: \"basic-navbar-nav\",\n              children: [/*#__PURE__*/_jsxDEV(SearchBox, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Nav, {\n                className: \"me-auto\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/cart\",\n                  className: \"nav-link\",\n                  children: [\"Cart\", cartItems.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge rounded-pill bg-danger\",\n                    children: //use reduce function to calculate accumulator (a) and current item (c)\n                    // default value to accumulator is zero\n                    cartItems.reduce((a, c) => a + c.quantity, 0)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 17\n                }, this), // fetch user info from store\n                // check user info \n                userInfo ?\n                /*#__PURE__*/\n                // userInfo does exist\n                _jsxDEV(NavDropdown, {\n                  title: userInfo.name,\n                  id: \"basic-nav-dropdown\",\n                  children: [/*#__PURE__*/_jsxDEV(LinkContainer, {\n                    to: \"/profile\",\n                    children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                      children: \"User Profile\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 90,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n                    to: \"/orderhistory\",\n                    children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                      children: \"Order History\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 93,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(NavDropdown.Divider, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    className: \"dropdown-item\",\n                    to: \"#signout\",\n                    onClick: signoutHandler,\n                    children: \"Sign Out\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 23\n                }, this) :\n                /*#__PURE__*/\n                // userInfo doesn't exist\n                // show sign in button\n                _jsxDEV(Link, {\n                  className: \"nav-link\",\n                  to: \"/signin\",\n                  children: \"Sign In\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 21\n                }, this), userInfo && userInfo.isSeller && /*#__PURE__*/_jsxDEV(NavDropdown, {\n                  title: \"Seller\",\n                  id: \"basic-nav-dropdown\",\n                  children: [/*#__PURE__*/_jsxDEV(LinkContainer, {\n                    to: \"/productlist/seller\",\n                    children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                      children: \"Products\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n                    to: \"/orderlist/seller\",\n                    children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                      children: \"Orders\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 120,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 21\n                }, this), userInfo && userInfo.isAdmin && /*#__PURE__*/_jsxDEV(NavDropdown, {\n                  title: \"Admin\",\n                  id: \"basic-nav-dropdown\",\n                  children: [/*#__PURE__*/_jsxDEV(LinkContainer, {\n                    to: \"/dashboard\",\n                    children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                      children: \"Dashboard\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n                    to: \"/productlist\",\n                    children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                      children: \"Products\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 132,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n                    to: \"/orderlist\",\n                    children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                      children: \"Orders\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n                    to: \"/userlist\",\n                    children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                      children: \"Users\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 138,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n                    to: \"/support\",\n                    children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                      children: \"Support\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: sidebarIsOpen ? ' active-nav side-navbar d-flex justify-content-between flex-wrap flex-column' : 'side-navbar d-flex justify-content-between flex-wrap flex-column',\n        children: /*#__PURE__*/_jsxDEV(Nav, {\n          className: \"flex-column text-white w-100 p-2\",\n          children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Categories\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 17\n          }, this), categories.map(category => /*#__PURE__*/_jsxDEV(Nav.Item, {\n            children: /*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: `/search?category=${category}`,\n              onClick: () => setSidebarIsOpen(false),\n              children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                children: category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 21\n            }, this)\n          }, category, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"container mt- 3\",\n        onClick: () => setSidebarIsOpen(false),\n        children: /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/product/:id\",\n            element: /*#__PURE__*/_jsxDEV(ProductScreen, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 53\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(HomeScreen, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 42\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/cart\",\n            element: /*#__PURE__*/_jsxDEV(CartScreen, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 46\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/signin\",\n            element: /*#__PURE__*/_jsxDEV(SigninScreen, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 48\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"Cp9Gpo4zyrHkgLtCxN8TtlKAK6E=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/carlos/Documents/GitHub/mern-app/frontend/src/App.js"],"names":["React","useContext","useEffect","useState","BrowserRouter","Link","Route","Routes","Axios","Nav","SearchBox","Navbar","NavDropdown","LinkContainer","Container","Button","HomeScreen","ProductScreen","Store","CartScreen","SigninScreen","App","state","cart","userInfo","cartItems","signoutHandler","sidebarIsOpen","setSidebarIsOpen","categories","setCategories","fetchCategories","data","get","err","length","reduce","a","c","quantity","name","isSeller","isAdmin","map","category"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { BrowserRouter, Link, Route, Routes } from 'react-router-dom';\nimport Axios from 'axios';\nimport Nav from 'react-bootstrap/Nav';\nimport SearchBox from './components/SearchBox';\nimport Navbar from 'react-bootstrap/Navbar';\nimport NavDropdown from 'react-bootstrap/NavDropdown'\nimport { LinkContainer } from 'react-router-bootstrap';\nimport Container from 'react-bootstrap/Container';\nimport Button from 'react-bootstrap/Button';\nimport HomeScreen from './screens/HomeScreen';\nimport ProductScreen from './screens/ProductScreen';\nimport { Store } from './Store';\nimport CartScreen from './screens/CartScreen';\nimport SigninScreen from './screens/SigninScreen';\n\nfunction App(){\n  \n    const { state } = useContext(Store);\n\n    // from the state get cart and userInfo \n    const { cart, userInfo } = state;\n\n    // from the cart get cartItems\n    const { cartItems } = cart;\n\n    const signoutHandler = () => {\n\n    };\n\n\n\n    const [sidebarIsOpen, setSidebarIsOpen] = useState(false);\n    const [categories, setCategories] = useState([]);\n\n    useEffect(() => {\n      const fetchCategories = async () => {\n        try {\n          const { data } = await Axios.get(`/api/products/categories`);\n          setCategories(data);\n        } catch (err) {\n          \n        }\n      };\n      fetchCategories();\n    }, []);\n  \n    return (\n        <BrowserRouter>\n          <div\n            className={\n              sidebarIsOpen\n                ? 'site-container active-cont d-flex flex-column'\n                : 'site-container d-flex flex-column'\n            }\n          >\n           \n            <header>\n              <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\n                <Container>\n                  <Button\n                    variant=\"dark\"\n                    onClick={() => setSidebarIsOpen(!sidebarIsOpen)}\n                  >\n                    <i className=\"fas fa-bars\"></i>\n                  </Button>\n                  <LinkContainer to=\"/\">\n                    <Navbar.Brand>Store</Navbar.Brand>\n                  </LinkContainer>\n                  <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                  <Navbar.Collapse id=\"basic-navbar-nav\">\n                    <SearchBox />\n                    <Nav className=\"me-auto\">\n                <Link to=\"/cart\" className=\"nav-link\">\n                    Cart\n                    {cartItems.length > 0 && (\n                      <span className='badge rounded-pill bg-danger'> \n                        {//use reduce function to calculate accumulator (a) and current item (c)\n                        // default value to accumulator is zero\n                        cartItems.reduce( (a, c) => a + c.quantity, 0)}\n                      </span>\n                    )}\n                  </Link>\n                  { // fetch user info from store\n                    // check user info \n                  userInfo ? // userInfo does exist\n                  (\n                      <NavDropdown title={userInfo.name} id=\"basic-nav-dropdown\">\n                        <LinkContainer to=\"/profile\">\n                          <NavDropdown.Item>User Profile</NavDropdown.Item>\n                        </LinkContainer>\n                        <LinkContainer to=\"/orderhistory\">\n                          <NavDropdown.Item>Order History</NavDropdown.Item>\n                        </LinkContainer>\n\n                        <NavDropdown.Divider />\n                        <Link\n                          className=\"dropdown-item\"\n                          to=\"#signout\"\n                          onClick={signoutHandler}\n                        >\n                          Sign Out\n                        </Link>\n                      </NavDropdown>\n                  ) \n                  : // userInfo doesn't exist\n                    // show sign in button\n                  (\n                    <Link className=\"nav-link\" to=\"/signin\">\n                      Sign In\n                    </Link>\n                  )}\n                  {userInfo && userInfo.isSeller && \n                  (\n                    <NavDropdown title=\"Seller\" id=\"basic-nav-dropdown\">\n                      <LinkContainer to=\"/productlist/seller\">\n                        <NavDropdown.Item>Products</NavDropdown.Item>\n                      </LinkContainer>\n                      <LinkContainer to=\"/orderlist/seller\">\n                        <NavDropdown.Item>Orders</NavDropdown.Item>\n                      </LinkContainer>\n                    </NavDropdown>\n                  )}\n\n                  {userInfo && userInfo.isAdmin && \n                  (\n                    <NavDropdown title=\"Admin\" id=\"basic-nav-dropdown\">\n                      <LinkContainer to=\"/dashboard\">\n                        <NavDropdown.Item>Dashboard</NavDropdown.Item>\n                      </LinkContainer>\n                      <LinkContainer to=\"/productlist\">\n                        <NavDropdown.Item>Products</NavDropdown.Item>\n                      </LinkContainer>\n                      <LinkContainer to=\"/orderlist\">\n                        <NavDropdown.Item>Orders</NavDropdown.Item>\n                      </LinkContainer>\n                      <LinkContainer to=\"/userlist\">\n                        <NavDropdown.Item>Users</NavDropdown.Item>\n                      </LinkContainer>\n                      <LinkContainer to=\"/support\">\n                        <NavDropdown.Item>Support</NavDropdown.Item>\n                      </LinkContainer>\n                    </NavDropdown>\n                  )}\n                </Nav>\n                  </Navbar.Collapse>\n                </Container>\n              </Navbar>\n            </header>\n    \n            <div\n              className={\n                sidebarIsOpen\n                  ? ' active-nav side-navbar d-flex justify-content-between flex-wrap flex-column'\n                  : 'side-navbar d-flex justify-content-between flex-wrap flex-column'\n              }\n            >\n              <Nav className=\"flex-column text-white w-100 p-2\">\n                <Nav.Item>\n                  <strong>Categories</strong>\n                </Nav.Item>\n                {categories.map((category) => (\n                  <Nav.Item key={category}>\n                    <LinkContainer\n                      to={`/search?category=${category}`}\n                      onClick={() => setSidebarIsOpen(false)}>\n                      <Nav.Link>{category}</Nav.Link>\n                    </LinkContainer>\n                  </Nav.Item>\n                ))}\n              </Nav>\n            </div>\n    \n            <main\n              className=\"container mt-\n              3\"\n              onClick={() => setSidebarIsOpen(false)}\n            >\n              <Routes>\n                <Route path=\"/product/:id\" element={<ProductScreen/>}></Route>\n                <Route path=\"/\" element={<HomeScreen/>}></Route>\n                <Route path=\"/cart\" element={<CartScreen/>}></Route>\n                <Route path=\"/signin\" element={<SigninScreen />}></Route>\n              </Routes>\n            </main>\n            <footer>\n              \n            </footer>\n          </div>\n        </BrowserRouter>\n      );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}